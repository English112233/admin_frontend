'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.default = {

    /**
     * 将entity对象 转换成element-table需要的数据格式
     * @param entity 数据库实体类
     * @param fieldConfig 要显示的字段配置
     * @returns {Array}
     */
    toTableData: function toTableData(entity, fieldConfig) {
        var data = [];
        for (var field in fieldConfig) {
            var sort = 50;
            var value = entity[field];
            var label = fieldConfig[field];
            if (_typeof(fieldConfig[field]) === 'object') {
                if (fieldConfig[field].hasOwnProperty('value')) {
                    if (typeof fieldConfig[field].value === 'function') {
                        value = fieldConfig[field].value(entity);
                    } else {
                        value = fieldConfig[field].value;
                    }
                }
                if (fieldConfig[field].hasOwnProperty('sort')) {
                    sort = fieldConfig[field].sort;
                }
                label = fieldConfig[field].label;
            }
            data.push({ label: label, value: value, sort: sort });
        }

        return data.sort(function (a, b) {
            return a.sort - b.sort;
        });
    }
};