<template>
    <el-form :inline="true" class="query-form">

        <date-range :begin-value="dateBegin"
                    :end-value="dateEnd"
                    :common-range="commonDateRange"
                    @updateBeginValue="val=>this.$emit('update:dateBegin',val)"
                    @updateEndValue="val=>this.$emit('update:dateEnd',val)"
                    @updateCommonRange="val=>this.$emit('update:commonDateRange',val)"
        ></date-range>
        <slot name="extend"></slot>

        <el-form-item label="业务类型">
            <enum-select :options="BillTypeEnum.map"
                         :show-empty="true"
                         :selected-id="billType"
                         @change="val=>this.$emit('update:billType', val)" style="width: 130px;"></enum-select>
        </el-form-item>

        <el-form-item>
            <el-button type="primary" @click="search()">查询</el-button>
        </el-form-item>
        <!--按钮插槽-->
        <slot name="extend-btn"></slot>
    </el-form>
</template>
<script>
    import BillTypeEnum from '../../enum/BillTypeEnum'
    import {EnumSelect, DateRange} from 'bluesdk-element-common'

    export default {
        name: 'ChnlBillSearchForm',
        data () {
            return {
                BillTypeEnum: BillTypeEnum
            }
        },
        props: {
            'dateBegin': String,
            'dateEnd': String,
            'commonDateRange': String,
            'billType': String
        },
        components: {DateRange, EnumSelect},
        methods: {
            search () {
                this.$emit('search')
            }
        }
    }
</script>