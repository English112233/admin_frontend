<template>
    <entity-table :data="tableData">
        <template slot="payId" slot-scope="scope">
            <router-link :to="{ name: 'payOrderView', params: { payId: scope.value }}">
                {{scope.value}}
            </router-link>
        </template>
    </entity-table>
</template>
<script>
    import PayTypeEnum from '../../enum/PayTypeEnum'
    import CustomStatusEnum from '../../enum/CustomStatusEnum'
    import {EntityTable, EntityMixin} from 'bluesdk-element-common'

    export default {
        name: 'CustomOrderDetailTable',
        components: {EntityTable},
        mixins: [EntityMixin],
        data: function () {
            let self = this
            return {
                fieldConfig: {
                    reportId: '平台报关流水号',
                    payId: {
                        label: '平台支付流水号',
                        slot: 'payId'
                    },
                    merchantId: '商户ID',
                    outTradeNo: '商户报关流水号',
                    oriMchOrder: '商户订单号',
                    payOrderNo: '三方支付流水号',
                    goodsDesc: '订单描述',
                    buyerCertNo: '买家证件号',
                    buyerName: '买家姓名',
                    buyerPhone: '买家电话',
                    payAt: {
                        label: '支付时间',
                        value: function (entity) {
                            return entity.verDept ? self.$mTimeToDate(entity.payAt) : ''
                        }
                    },
                    verDept: {
                        label: '核验机构',
                        value: function (entity) {
                            return entity.verDept + '(1:银联,2:网联,3:其他)'
                        }
                    },
                    payMoney: {
                        label: '支付金额',
                        value: function (entity) {
                            return self.$moneyFormat(entity.payMoney)
                        }
                    },
                    goodsMoney: {
                        label: '支付货款',
                        value: function (entity) {
                            return self.$moneyFormat(entity.goodsMoney)
                        }
                    },
                    freight: {
                        label: '支付运费',
                        value: function (entity) {
                            return self.$moneyFormat(entity.freight)
                        }
                    },
                    tax: {
                        label: '支付税款',
                        value: function (entity) {
                            return self.$moneyFormat(entity.tax)
                        }
                    },
                    customType: '海关通道',
                    customCode: '海关编码',
                    ciqCode: '国检编码',
                    customEbpCode: '海关备案号',
                    customEbpName: '海关备案名称',
                    ciqEbpCode: '国检备案号',
                    ciqEbpName: '国检备案名称',
                    ip: {
                        label: '来源IP',
                        value: function (entity) {
                            return self.$long2ip(entity.ip)
                        }
                    },
                    note: '备注信息',
                    payType: {
                        label: '支付方式',
                        value (entity) {
                            return self.$getObjVal(PayTypeEnum.map, entity.payType)
                        }
                    },
                    payChannel: '上游通道',
                    account: '渠道账号',
                    accountId: 'accountId',
                    customStatus: {
                        label: '报关状态',
                        value (e) {
                            return self.$getObjVal(CustomStatusEnum.map, e.customStatus)
                        }
                    },
                    ciqStatus: {
                        label: '报检状态',
                        value (e) {
                            return self.$getObjVal(CustomStatusEnum.map, e.ciqStatus)
                        }
                    },
                    rspCode: '请求状态',
                    rspMsg: '请求描述',
                    retCode: '返回状态',
                    retMsg: '返回描述',
                    createdAt: {
                        label: '创建时间',
                        value: function (entity) {
                            return self.$mTimeToDate(entity.createdAt)
                        }
                    },
                    updatedAt: {
                        label: '更新时间',
                        value: function (entity) {
                            return self.$mTimeToDate(entity.updatedAt)
                        }
                    }
                }
            }
        }
    }
</script>
