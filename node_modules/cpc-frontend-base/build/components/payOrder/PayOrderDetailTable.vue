<template>
    <entity-table :data="tableData"></entity-table>
</template>
<script>
    import PayTypeEnum from '../../enum/PayTypeEnum'
    import PayFlagEnum from '../../enum/PayFlagEnum'
    import {EntityTable, EntityMixin} from 'bluesdk-element-common'

    export default {
        name: 'PayOrderDetailTable',
        components: {EntityTable},
        mixins: [EntityMixin],
        data: function () {
            let self = this
            let orderTypeMap = {
                '0': '支付订单',
                '1': '登记订单',
                '2': '充值订单'
            }
            return {
                fieldConfig: {
                    payId: '系统单号',
                    merchantId: '商户ID',
                    agencyId: '代理商ID',
                    outTradeNo: '商户单号',
                    payOrderNo: '支付单号',
                    payType: {
                        label: '支付方式',
                        value (e) {
                            return self.$getObjVal(PayTypeEnum.map, e.payType)
                        }
                    },
                    verDept: {
                        label: '核验机构',
                        value: function (entity) {
                            return entity.verDept + '(1:银联,2:网联,3:其他)'
                        },
                        show: false
                    },
                    payMoney: {
                        label: '支付金额',
                        value (entity) {
                            return self.$moneyFormat(entity.payMoney)
                        }
                    },
                    // settleMoney: '入账金额',
                    // buyerCertType: '买家证件类型',
                    buyerCertNo: '买家证件号码',
                    buyerName: '买家姓名',
                    buyerPhone: '买家电话',
                    goodsDesc: '商品描述',
                    payStatus: {
                        label: '支付状态',
                        value: function (e) {
                            return self.$getObjVal(PayFlagEnum.map, e.payStatus)
                        }
                    },
                    payChannel: '支付渠道',
                    account: '渠道账号',
                    accountId: '账号ID',
                    ip: {
                        label: '请求IP',
                        value (e) {
                            return self.$long2ip(e.ip)
                        }
                    },
                    bizType: {
                        label: '订单类型',
                        value: function (e) {
                            return self.$getObjVal(orderTypeMap, e.bizType)
                        }
                    },
                    returnUrl: '前端URL',
                    notifyUrl: '通知URL',
                    retCode: '返回代码',
                    retMsg: '返回描述',
                    createdAt: {
                        label: '创建时间',
                        value: function (e) {
                            return self.$mTimeToDate(e.createdAt)
                        }
                    },
                    payAt: {
                        label: '支付时间',
                        value: function (e) {
                            return e.payStatus?self.$mTimeToDate(e.payAt):''
                        }
                    },
                    updatedAt: {
                        label: '更新时间',
                        value: function (e) {
                            return self.$mTimeToDate(e.updatedAt)
                        }
                    }
                }
            }
        }
    }
</script>
