<template>
    <entity-table :data="tableData"></entity-table>
</template>
<script>
    import TradeStatusEnum from '../../enum/TradeStatusEnum'
    import BankAccountTypeEnum from '../../enum/BankAccountTypeEnum'
    import bankNoMap from 'bluesdk-bank-no'
    import {EntityTable, EntityMixin} from 'bluesdk-element-common'

    export default {
        name: 'WithdrawDetailTable',
        components: {EntityTable},
        mixins: [EntityMixin],
        data: function () {
            let self = this
            return {
                fieldConfig: {
                    withdrawId: '请求流水号',
                    merchantId: '商户ID',
                    outWithdrawNo: '商户流水号',
                    payChannel: '支付渠道',
                    account: '渠道账号',
                    accountId: '账号ID',
                    withdrawMoney: {
                        label: '提现金额',
                        value (entity) {
                            return self.$moneyFormat(entity.withdrawMoney) + '元'
                        }
                    },
                    feeMoney: {
                        label: '手续费',
                        value (entity) {
                            return self.$moneyFormat(entity.feeMoney) + '元'
                        }
                    },
                    chnlFeeMoney: {
                        label: '成本',
                        value (entity) {
                            return self.$moneyFormat(entity.chnlFeeMoney) + '元'
                        }
                    },
                    personName: '收款人名称',
                    cardNo: '收款账号',
                    bankName: '支行名称',
                    bankAccountType: {
                        label: '账户类型',
                        value (e) {
                            return self.$getObjVal(BankAccountTypeEnum.map, e.bankAccountType)
                        }
                    },
                    bankNo: {
                        label: '开户行',
                        value (e) {
                            return self.$getObjVal(bankNoMap, e.bankNo)
                        }
                    },
                    bankProvince: '支行省份',
                    bankCity: '支行城市',
                    remark: '备注',
                    sucFlag: {
                        label: '交易状态',
                        value (e) {
                            return self.$getObjVal(TradeStatusEnum.map, e.sucFlag)
                        }
                    },
                    fromChannel: '请求来源',
                    ip: {
                        label: '来源ip',
                        value (e) {
                            return self.$long2ip(e.ip)
                        }
                    },
                    notifyUrl: '回调url',
                    retCode: 'retCode',
                    retMsg: 'retMsg',
                    rspCode: 'rspCode',
                    rspMsg: 'rspMsg',
                    finishAt: {
                        label: '完成时间',
                        value: function (e) {
                            return self.$mTimeToDate(e.finishAt)
                        }
                    },
                    createdAt: {
                        label: '创建时间',
                        value: function (e) {
                            return self.$mTimeToDate(e.createdAt)
                        }
                    },
                    updatedAt: {
                        label: '更新时间',
                        value: function (e) {
                            return self.$mTimeToDate(e.updatedAt)
                        }
                    }
                }
            }
        }
    }
</script>
